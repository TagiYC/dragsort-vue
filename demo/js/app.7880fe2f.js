(function(){"use strict";var t={4456:function(t,e,a){var r=a(3599),o=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("div",{staticClass:"box-v"},[t._m(0),e("TagiDragSort",{attrs:{dataSource:t.list[0],keyName:"key",height:"100%",gap:8,draggingCursor:"-webkit-grabbing",itemWrapperStyle:{borderRadius:"5px",border:"2px solid transparent"},draggingItemClassName:"active"},on:{dragEnd:e=>t.handleDragEnd(e,0)},scopedSlots:t._u([{key:"item",fn:function({item:e}){return[t._v(" "+t._s(e.value)+" ")]}}])},[e("div",{staticClass:"add-button",attrs:{slot:"afterItem"},on:{click:()=>t.handleAdd(0)},slot:"afterItem"},[t._v("+")])]),e("TagiDragSort",{attrs:{dataSource:t.list[0],keyName:"key",height:"100%",gap:8,autoScrollOffset:100,draggingCursor:"-webkit-grabbing",itemWrapperClassName:"item-wrapper",draggingItemStyle:{borderColor:"aqua"}},on:{dragEnd:e=>t.handleDragEnd(e,0)},scopedSlots:t._u([{key:"item",fn:function({item:a}){return[e("div",t._l(a.num,(function(r){return e("div",[t._v(t._s(a.value))])})),0)]}}])},[e("div",{staticClass:"add-button",attrs:{slot:"afterItem"},on:{click:()=>t.handleAdd(0)},slot:"afterItem"},[t._v("+")])]),e("TagiDragSort",{attrs:{dataSource:t.list[0],keyName:"key",width:"600px",height:"100%",gap:8,autoScrollOffset:100,draggingCursor:"-webkit-grabbing",itemWrapperClassName:"item-wrapper-v",draggingItemStyle:{borderColor:"aqua"}},on:{dragEnd:e=>t.handleDragEnd(e,0)},scopedSlots:t._u([{key:"item",fn:function({item:a}){return[e("div",{staticStyle:{display:"flex"}},t._l(a.num,(function(r){return e("div",[t._v(t._s(a.value))])})),0)]}}])},[e("div",{staticClass:"add-button",attrs:{slot:"afterItem"},on:{click:()=>t.handleAdd(0)},slot:"afterItem"},[t._v("+")])])],1),e("div",{staticClass:"box-h"},[e("TagiDragSort",{attrs:{mode:"h",dataSource:t.list[1],keyName:"key",width:"50%",height:"100%",hWheelScroll:!0,gap:8,draggingCursor:"-webkit-grabbing",itemWrapperStyle:{borderRadius:"5px",border:"2px solid transparent"},draggingItemClassName:"active"},on:{dragEnd:e=>t.handleDragEnd(e,1)},scopedSlots:t._u([{key:"item",fn:function({item:e}){return[t._v(" "+t._s(e.value)+" ")]}}])},[e("div",{staticClass:"add-button-h",attrs:{slot:"afterItem"},on:{click:()=>t.handleAdd(1)},slot:"afterItem"},[t._v("+")])]),e("TagiDragSort",{attrs:{mode:"h",dataSource:t.list[1],keyName:"key",width:"50%",height:"100%",gap:8,autoScrollOffset:100,hWheelScroll:!0,draggingCursor:"-webkit-grabbing",itemWrapperClassName:"item-wrapper",draggingItemStyle:{borderColor:"aqua"}},on:{dragEnd:e=>t.handleDragEnd(e,1)},scopedSlots:t._u([{key:"item",fn:function({item:a}){return[e("div",{staticStyle:{display:"flex"}},t._l(a.num,(function(r){return e("div",[t._v(t._s(a.value))])})),0)]}}])},[e("div",{staticClass:"add-button-h",attrs:{slot:"afterItem"},on:{click:()=>t.handleAdd(1)},slot:"afterItem"},[t._v("+")])])],1),e("div",{staticClass:"box-h-2"},[e("TagiDragSort",{attrs:{mode:"h",dataSource:t.list[2],keyName:"key",width:"100%",height:"100%",gap:8,autoScrollOffset:100,draggingCursor:"-webkit-grabbing",itemWrapperClassName:"item-wrapper-h",draggingItemStyle:{borderColor:"aqua"},hWheelScroll:!0},on:{dragEnd:e=>t.handleDragEnd(e,2)},scopedSlots:t._u([{key:"item",fn:function({item:a}){return[e("div",t._l(a.num,(function(r){return e("div",{staticStyle:{display:"flex"}},t._l(a.num,(function(r){return e("div",[t._v(t._s(a.value))])})),0)})),0)]}}])},[e("div",{staticClass:"add-button-h",attrs:{slot:"afterItem"},on:{click:()=>t.handleAdd(2)},slot:"afterItem"},[t._v("+")])])],1)])},n=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"tip"},[e("p",[t._v("Move here to scroll automatically")]),e("div",{staticClass:"content"},[t._v("List")]),e("p",[t._v("Move here to scroll automatically")])])}],l=(a(381),function(){var t=this,e=t._self._c;return e("div",{ref:"scrollWrapper",class:["tagi-drag-sort",`tagi-drag-sort-${t.mode}`],style:t.wrapperStyle,on:{wheel:t.handleWheel}},[e("div",{class:["tagi-drag-sort-list",`tagi-drag-sort-list-${t.mode}`]},[t._l(t.dataSource,(function(a,r){return e("TagiDragSortItem",{key:a[t.keyName],attrs:{mode:t.mode,item:a,index:r,dragging:t.dragging,duration:t.duration,gap:t.gap,itemWrapperStyle:t.itemWrapperStyle,itemWrapperClassName:t.itemWrapperClassName,draggingItemStyle:t.draggingItemStyle,draggingItemClassName:t.draggingItemClassName},on:{itemDown:t.handleItemDown}},[t._t("item",null,{item:a,index:r})],2)})),t.$slots.afterItem||t.$scopedSlots.afterItem?e("div",{class:["tagi-drag-sort-item",`tagi-drag-sort-item-${t.mode}`],style:t.itemStyle},[e("div",{class:["tagi-drag-sort-item-wrapper",`tagi-drag-sort-item-wrapper-${t.mode}`,t.itemWrapperClassName,t.afterWrapperClassName],style:t.afterItemStyle},[t._t("afterItem")],2)]):t._e()],2)])}),i=[],s=function(){var t=this,e=t._self._c;return e("div",{class:["tagi-drag-sort-item",`tagi-drag-sort-item-${t.mode}`],style:t.itemStyle},[e("div",{class:["tagi-drag-sort-item-wrapper",`tagi-drag-sort-item-wrapper-${t.mode}`,t.itemWrapperClassName,t.dragging&&t.dragging.item==t.item?t.draggingItemClassName:""],style:{...t.itemWrapperStyle,...t.dragging&&t.dragging.item==t.item?t.draggingItemStyle:{}},on:{mousedown:function(e){return t.$emit("itemDown",{downEvent:e,item:t.item,index:t.index})},touchstart:t.handleTouchStart}},[t._t("default")],2)])},u=[];function d(t,e){const{marginTop:a,marginBottom:r,marginLeft:o,marginRight:n}=window.getComputedStyle(t,null);return e?t.offsetHeight+parseFloat(a)+parseFloat(r):t.offsetWidth+parseFloat(o)+parseFloat(n)}var m={name:"TgDragSortItem",props:{item:Object,index:Number,dragging:Object,gap:Number,itemWrapperStyle:Object,itemWrapperClassName:String,draggingItemStyle:Object,draggingItemClassName:String,duration:Number,mode:String},data(){return{timer:null,translate:"0 0"}},computed:{isV(){return"v"===this.mode},isChoose(){return this.dragging&&this.dragging.index===this.index},itemStyle(){return{pointerEvents:this.dragging?"none":"",translate:this.translate,transition:this.isChoose||!this.dragging?"":`translate ${this.duration}s`,padding:"v"===this.mode?this.gap/2+"px 0":`0 ${this.gap/2}px`,zIndex:this.isChoose?9999:1}}},watch:{dragging:{deep:!0,handler(t){let e="0 0";if(t&&!this.isChoose){const a=this.$el[this.isV?"offsetTop":"offsetLeft"],r=d(this.$el,this.isV),o=this.index-t.index,n=a+r/2,l=t.offset+(o>0?t.size:0),i=l-n;o<0&&i<0?(e=this.isV?`0 ${t.size}px`:`${t.size}px 0`,t.transArray[this.index]=1):o>0&&i>0?(e=this.isV?`0 -${t.size}px`:`-${t.size}px 0`,t.transArray[this.index]=1):t.transArray[this.index]=0}this.translate=e}}},methods:{n(t,e=""){return"tagi-drag-sort-item-"+t+" "+e},handleTouchStart(t){const e=t.currentTarget,a=(t,e=!0)=>{e&&clearTimeout(this.timer),document.removeEventListener("touchmove",a),document.removeEventListener("touchend",a)};this.timer=setTimeout((()=>{t.stopPropagation(),t.preventDefault(),a(null,!0),this.$emit("itemDown",{downEvent:t,item:this.item,index:this.index,touch:!0,currentTarget:e})}),300),document.addEventListener("touchmove",a),document.addEventListener("touchend",a)}}},h=m,g=a(2371),f=(0,g.A)(h,s,u,!1,null,null,null),c=f.exports,v={name:"TagiDragSort",data(){return{dragging:null,scrollTimer:null,scrollOffset:0}},components:{TagiDragSortItem:c},props:{dataSource:{type:Array,require:!0},width:{type:[String,Number],default:"100%"},height:{type:[String,Number],default:"100%"},gap:{type:Number,default:8},keyName:{type:String,default:"key"},itemWrapperStyle:{type:Object,default:()=>({})},itemWrapperClassName:{type:String,default:""},afterWrapperClassName:{type:String,default:""},draggingItemStyle:{type:Object,default:()=>({})},draggingItemClassName:{type:String,default:""},draggingCursor:{type:String,default:""},duration:{type:Number,default:.3},autoScroll:{type:Boolean,default:!0},autoScrollOffset:{type:Number,default:50},autoScrollMaxValue:{type:Number,default:20},mode:{type:String,default:"v",validator:function(t){return["v","h"].includes(t)}},hWheelScroll:{type:Boolean,default:!1}},computed:{isV(){return"v"===this.mode},wrapperStyle(){const{width:t,height:e}=this;return{width:"number"===typeof t?t+"px":t,height:"number"===typeof e?e+"px":e}},itemStyle(){return{padding:"v"===this.mode?this.gap/2+"px 0":`0 ${this.gap/2}px`}},afterItemStyle(){return{pointerEvents:this.dragging?"none":""}}},methods:{handleWheel(t){if(!this.hWheelScroll||this.isV||t.shiftKey)return;const e=t.currentTarget;e.scrollTo({left:e.scrollLeft+t.deltaY})},handleItemDown({downEvent:t,item:e,index:a,touch:r,currentTarget:o}){if(t.button&&0!==t)return;let n=!1;const l=t.currentTarget||o,i=l.parentElement,s=this.$refs.scrollWrapper,u=s[this.isV?"scrollHeight":"scrollWidth"],m=document.body.style.cursor,h=this.isV?"clientY":"clientX",g=this.isV?"top":"left",f=this.isV?"height":"width",c=this.isV?"scrollTop":"scrollLeft",v=this.isV?"offsetTop":"offsetLeft",p=t[h]||t.targetTouches[0][h],y=d(i,this.isV),M=this.$el[c];let k=0,S=0;const b=()=>{document.body.style.cursor=this.draggingCursor,this.dragging={item:e,index:a,size:y,offset:i[v],transArray:this.dataSource.map(((t,e)=>e===a?-1:0))},n=!0},x=()=>{const t=S+k;i.style.translate=this.isV?`0 ${t}px`:`${t}px 0`,this.dragging.offset=i[v]+t},I=t=>{if(t.stopPropagation(),t.preventDefault(),t[h]||t?.targetTouches){const e=t[h]||t.targetTouches[0][h];if(S=e-p,!n&&Math.abs(S)>=5&&b(),n){const t=s.getBoundingClientRect(),a=e-t[g];if(this.autoScroll){const e=a<this.autoScrollOffset,r=t[f]-a<this.autoScrollOffset;if(e||r){const r=e?a:t[f]-a,o=()=>{const e=s[c]+this.scrollOffset;return e<u-t[f]&&s.scrollTo({[g]:e}),o};this.scrollOffset=Math.min(this.autoScrollMaxValue,Math.pow((this.autoScrollOffset-r)/5,1.5))*(e?-1:1),clearInterval(this.scrollTimer),this.scrollTimer=setInterval(o(),20)}else this.scrollOffset=0,clearInterval(this.scrollTimer)}x()}}},C=t=>{const e=t.target[c];k=e-M,!n&&Math.abs(k)>=5&&b(),n&&x()},_=t=>{this.scrollOffset=0,clearInterval(this.scrollTimer),n&&(i.style.translate="",document.body.style.cursor=m,this.positionChange(i),this.dragging=null),document.removeEventListener(r?"touchmove":"mousemove",I),document.removeEventListener(r?"touchend":"mouseup",_),this.$el.removeEventListener("scroll",C)};document.addEventListener(r?"touchmove":"mousemove",I,{passive:!1}),document.addEventListener(r?"touchend":"mouseup",_),this.$el.addEventListener("scroll",C)},positionChange(t){const e=this.dragging.index,{insertIndex:a,position:r,isChange:o}=this.getInsertIndex(e);if(!o)return;const n={dragIndex:e,dragTarget:this.dragging.item,dragNode:t,insertIndex:a,insertTarget:this.dataSource[a],position:r};this.$emit("dragEnd",n)},getInsertIndex(t){const e=this.dataSource.length,a=this.dragging.transArray;let r=t,o=0,n=!1;return 0!==t&&1===a[t-1]?(r=a.indexOf(1),n=!0):t!==e-1&&1===a[t+1]&&(o=1,r=a.lastIndexOf(1),n=!0),{insertIndex:r,position:o,isChange:n}}}},p=v,y=(0,g.A)(p,l,i,!1,null,null,null),M=y.exports,k=M,S={name:"App",data(){return{list:[[{key:1,value:"a",num:Math.floor(8*Math.random()+1)},{key:2,value:"b",num:Math.floor(8*Math.random()+1)},{key:3,value:"c",num:Math.floor(8*Math.random()+1)},{key:4,value:"d",num:Math.floor(8*Math.random()+1)},{key:5,value:"e",num:Math.floor(8*Math.random()+1)},{key:6,value:"f",num:Math.floor(8*Math.random()+1)},{key:7,value:"g",num:Math.floor(8*Math.random()+1)},{key:8,value:"h",num:Math.floor(8*Math.random()+1)},{key:9,value:"i",num:Math.floor(8*Math.random()+1)},{key:10,value:"j",num:Math.floor(8*Math.random()+1)},{key:11,value:"k",num:Math.floor(8*Math.random()+1)},{key:12,value:"l",num:Math.floor(8*Math.random()+1)},{key:13,value:"m",num:Math.floor(8*Math.random()+1)},{key:14,value:"n",num:Math.floor(8*Math.random()+1)},{key:15,value:"o",num:Math.floor(8*Math.random()+1)},{key:16,value:"p",num:Math.floor(8*Math.random()+1)},{key:17,value:"q",num:Math.floor(8*Math.random()+1)},{key:18,value:"r",num:Math.floor(8*Math.random()+1)},{key:19,value:"s",num:Math.floor(8*Math.random()+1)},{key:20,value:"t",num:Math.floor(8*Math.random()+1)},{key:21,value:"u",num:Math.floor(8*Math.random()+1)},{key:22,value:"v",num:Math.floor(8*Math.random()+1)},{key:23,value:"w",num:Math.floor(8*Math.random()+1)},{key:24,value:"x",num:Math.floor(8*Math.random()+1)},{key:25,value:"y",num:Math.floor(8*Math.random()+1)},{key:26,value:"z",num:Math.floor(8*Math.random()+1)}],[{key:1,value:"a",num:Math.floor(8*Math.random()+1)},{key:2,value:"b",num:Math.floor(8*Math.random()+1)},{key:3,value:"c",num:Math.floor(8*Math.random()+1)},{key:4,value:"d",num:Math.floor(8*Math.random()+1)},{key:5,value:"e",num:Math.floor(8*Math.random()+1)},{key:6,value:"f",num:Math.floor(8*Math.random()+1)},{key:7,value:"g",num:Math.floor(8*Math.random()+1)},{key:8,value:"h",num:Math.floor(8*Math.random()+1)},{key:9,value:"i",num:Math.floor(8*Math.random()+1)},{key:10,value:"j",num:Math.floor(8*Math.random()+1)},{key:11,value:"k",num:Math.floor(8*Math.random()+1)},{key:12,value:"l",num:Math.floor(8*Math.random()+1)},{key:13,value:"m",num:Math.floor(8*Math.random()+1)},{key:14,value:"n",num:Math.floor(8*Math.random()+1)},{key:15,value:"o",num:Math.floor(8*Math.random()+1)},{key:16,value:"p",num:Math.floor(8*Math.random()+1)},{key:17,value:"q",num:Math.floor(8*Math.random()+1)},{key:18,value:"r",num:Math.floor(8*Math.random()+1)},{key:19,value:"s",num:Math.floor(8*Math.random()+1)},{key:20,value:"t",num:Math.floor(8*Math.random()+1)},{key:21,value:"u",num:Math.floor(8*Math.random()+1)},{key:22,value:"v",num:Math.floor(8*Math.random()+1)},{key:23,value:"w",num:Math.floor(8*Math.random()+1)},{key:24,value:"x",num:Math.floor(8*Math.random()+1)},{key:25,value:"y",num:Math.floor(8*Math.random()+1)},{key:26,value:"z",num:Math.floor(8*Math.random()+1)}],[{key:1,value:"a",num:Math.floor(8*Math.random()+1)},{key:2,value:"b",num:Math.floor(8*Math.random()+1)},{key:3,value:"c",num:Math.floor(8*Math.random()+1)},{key:4,value:"d",num:Math.floor(8*Math.random()+1)},{key:5,value:"e",num:Math.floor(8*Math.random()+1)},{key:6,value:"f",num:Math.floor(8*Math.random()+1)},{key:7,value:"g",num:Math.floor(8*Math.random()+1)},{key:8,value:"h",num:Math.floor(8*Math.random()+1)},{key:9,value:"i",num:Math.floor(8*Math.random()+1)},{key:10,value:"j",num:Math.floor(8*Math.random()+1)},{key:11,value:"k",num:Math.floor(8*Math.random()+1)},{key:12,value:"l",num:Math.floor(8*Math.random()+1)},{key:13,value:"m",num:Math.floor(8*Math.random()+1)},{key:14,value:"n",num:Math.floor(8*Math.random()+1)},{key:15,value:"o",num:Math.floor(8*Math.random()+1)},{key:16,value:"p",num:Math.floor(8*Math.random()+1)},{key:17,value:"q",num:Math.floor(8*Math.random()+1)},{key:18,value:"r",num:Math.floor(8*Math.random()+1)},{key:19,value:"s",num:Math.floor(8*Math.random()+1)},{key:20,value:"t",num:Math.floor(8*Math.random()+1)},{key:21,value:"u",num:Math.floor(8*Math.random()+1)},{key:22,value:"v",num:Math.floor(8*Math.random()+1)},{key:23,value:"w",num:Math.floor(8*Math.random()+1)},{key:24,value:"x",num:Math.floor(8*Math.random()+1)},{key:25,value:"y",num:Math.floor(8*Math.random()+1)},{key:26,value:"z",num:Math.floor(8*Math.random()+1)}]]}},components:{TagiDragSort:k},methods:{handleDragEnd(t,e){const{dragIndex:a,dragNode:r,dragTarget:o,insertIndex:n,insertTarget:l,position:i}=t,s=this.list[e];s.splice(a,1);const u=s.findIndex((t=>t.key==l.key));s.splice(u+i,0,o)},handleAdd(t){this.list[t].push({key:this.list[t].length+1,value:"New",num:Math.floor(8*Math.random()+1)})}}},b=S,x=(0,g.A)(b,o,n,!1,null,null,null),I=x.exports;r.Ay.config.productionTip=!1,new r.Ay({render:t=>t(I)}).$mount("#app")}},e={};function a(r){var o=e[r];if(void 0!==o)return o.exports;var n=e[r]={exports:{}};return t[r].call(n.exports,n,n.exports,a),n.exports}a.m=t,function(){var t=[];a.O=function(e,r,o,n){if(!r){var l=1/0;for(d=0;d<t.length;d++){r=t[d][0],o=t[d][1],n=t[d][2];for(var i=!0,s=0;s<r.length;s++)(!1&n||l>=n)&&Object.keys(a.O).every((function(t){return a.O[t](r[s])}))?r.splice(s--,1):(i=!1,n<l&&(l=n));if(i){t.splice(d--,1);var u=o();void 0!==u&&(e=u)}}return e}n=n||0;for(var d=t.length;d>0&&t[d-1][2]>n;d--)t[d]=t[d-1];t[d]=[r,o,n]}}(),function(){a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,{a:e}),e}}(),function(){a.d=function(t,e){for(var r in e)a.o(e,r)&&!a.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={524:0};a.O.j=function(e){return 0===t[e]};var e=function(e,r){var o,n,l=r[0],i=r[1],s=r[2],u=0;if(l.some((function(e){return 0!==t[e]}))){for(o in i)a.o(i,o)&&(a.m[o]=i[o]);if(s)var d=s(a)}for(e&&e(r);u<l.length;u++)n=l[u],a.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return a.O(d)},r=self["webpackChunktagi_dragsort_vue"]=self["webpackChunktagi_dragsort_vue"]||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))}();var r=a.O(void 0,[504],(function(){return a(4456)}));r=a.O(r)})();
//# sourceMappingURL=app.7880fe2f.js.map